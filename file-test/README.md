# 大文件上传

## 前端：

- 读取本地的文件，读成一个文件对象
- 利用 blob 对象原型的 slice 方法对文件对象进行切割得到切片数组（额外还需要添加信息）
- 将它转换成 FormData 表单类型的对象
  - blob 对象是 js 独有的，后端不一定所有的语言都有 blob，而表单是前后端都有的
- 用 promise.all 并发发给后端，传输完毕后发起一个合并请求，带上文件名和切片大小信息

## 后端：

- 后端接收到传过来的表单格式数据，利用 multiparty 解析表单数据（后端解析表单格式数据）
- 将解析后的数据存入切片到提前创建好的目录中
- 接收到前端合并请求的时候，按照下标顺序进行排序，然后合并切片
- 合并切片：创建一个可以写入流的文件，将每个片段读成流类型，再写入到可写流中
